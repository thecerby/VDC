<!DOCTYPE html>
<html>
    <head>
        <title>VDC : (RDW) Portals</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">VDC</a></span>
                            </li>
                                                    <li>
                                <span><a href="VDC-Index_36733011.html">VDC Index</a></span>
                            </li>
                                                    <li>
                                <span><a href="Overview-VDC-Projects_1129775105.html">Overview VDC Projects</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            VDC : (RDW) Portals
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Stephan Oomen</span>, last modified on 29 dec., 2021
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>VDC runs RDW portals to do actions on behalf of an subscriber, you need the RDW certificate for the Portal.<br/>Which portals are available, depends on the subscriber.</p><p>When an portal is started, it grabs the subscriber information and show you the details in the application.<br/>When a request is made from an external application (record in tblPortalAanvraag), the Portal will callout to the DataConnectionWcf service and asks for the next available request (<strong>This is done through polling every X second</strong>).</p><p>When the request is received, the application parses the information and put them in the &quot;HTML fields&quot; defined. This is tightly coupled, when the fieldname changes, it will break the application.</p><p>After the process can be completed, the results are then saved in the tblPortalAanvraag and asks for the next task.</p><p /><p>PortalMail functions as ‘polling’ service to send service mails, because mails are sent through tblPortalAanvraag it is solved using a PortalMail.</p><p><em>Binnen Form1 (FrmPortal) is een timer gedefinieerd.</em></p><p><em>Binnen dit form is er een Browser control dat wordt gebruikt als HTML ‘gateway’ naar Buiten toen. (vergelijk dat met een B2B Soap service client)</em></p><p><em>Wanneer er een record voldoet aan de aanvraag in dbo.TblPortalaanvraag, zal bijvoorbeeld RdwOrb (project) via de timer naar</em></p><p><em>Daarna wordt van de website van RDW bijvoorbeeld naar </em><a class="external-link" href="http://www.vdcnederland.nl:82/rdwlink.asp?app=ORB" rel="nofollow"><em>http://www.vdcnederland.nl:82/rdwlink.asp?app=ORB</em></a><em> gesprongen,</em></p><p><em>Binnen de stappen van de RDW website, wordt steeds onderstaand aangeroepen.</em></p><p><em>private void Verwerk(Uri url) springen.</em></p><p><em> </em></p><p><em>Als dan bijvoorbeeld een specifieke stap (stap 2 bijv) voldoet aan een URL     if (url.AbsoluteUri.Equals(&quot;</em><a class="external-link" data-card-appearance="inline" href="https://orb.rdw.nl/Paginas/Registreren.aspx" rel="nofollow">https://orb.rdw.nl/Paginas/Registreren.aspx</a><em> &quot;))</em></p><p><em>Dan wordt een absolute ID opgezocht binnen de HTML. _ctl0_cntMaincol_rbPapier</em></p><p><em>GetElementByIdSafe is onlangs geïntroduceerd, die logt naar de trace (gebruik debugview) als een ID er hoort te zijn, maar niet is gevonden. Dat ivm het risico dat RDW een html pagina verandert, waarbij id’s qua nummering veranderen.</em></p><p><em>Zodra de laatste stap is doorlopen wordt óf, het RDW document geimiteerd, dus gecreeerd door de documentservices, of gedownload door de PDF van RDW te ‘pakken’ en te uploaden naar de specifieke voertuig folder.</em></p>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on 30 okt., 2024 22:10</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
